
/* =================================== */
/* 1. Reset y Variables (Basado en el diseño Teal) */
/* =================================== */
:root {
    --color-primary: #0D9488; /* Teal 600 (Acento Principal) */
    --color-primary-hover: #067c6f; /* Teal más oscuro */
    --color-background: #f8f9fa; /* Fondo general */
    --color-sidebar-bg: #ffffff; /* Fondo de la barra lateral (Blanco) */
    --color-text-default: #343a40; /* Texto oscuro */
    --color-text-muted: #717182; /* Texto gris para elementos inactivos */
    --color-link-active-bg: var(--color-primary); /* Fondo del enlace activo */
    --color-link-active-text: #ffffff;
    --color-link-hover-bg: #f3f4f6; /* Gris muy claro para hover */
    --border-color: #e5e7eb; /* Gris claro para bordes (Gray 200) */
    --color-icon-header: #94A3B8; /* Gris claro/azul pálido para los iconos del header */
    --radius-md: 0.375rem; /* Bordes ligeramente redondeados */
    --text-xl: 1.175rem;
    --text-lg: 0.975rem;
    --text-md: 0.875rem;
    --text-sm: 0.775rem;
    --text-xs: 0.675rem;
    --bg-color-btn-primary: #000000 ;
    --color-btn-primary: #FFFFFF;
    --bg-color-btn-primary-hover: #343A40;
    --border-color-btn-primary: 1px solid #343A40;
    --bg-color-btn-secondary: #0D9488;
    --color-btn-secondary: #FFFFFF;
    --bg-color-btn-secondary-hover: #067C6F;
    --bg-color-btn-success: #28A745;
    --color-btn-success: #FFFFFF;
    --bg-color-btn-success-hover: #1b712f; 
    --bg-color-btn-warning: #F3CB00;
    --color-btn-warning: #000000;
    --bg-color-btn-warning-hover: #CFAD02; 
    --bg-color-btn-danger: #DC3545;
    --color-btn-danger: #FFFFFF;
    --bg-color-btn-danger-hover: #BF443B; 
    --color-danger: #DC3545;
    --bg-color-list-item: #E8E8E8;
    --color-list-item: #343A40;
}

html.dark {
    /* Aquí debes mapear los colores que importaste del bloque .dark de Figma */
    /* Usaremos aproximaciones con HEX, ya que el formato OKLCH no es simple de replicar */
    --color-text-default: #FFFFFF; /* Texto blanco/claro */
    --color-primary: #59C3B5; /* Un teal más claro para contraste en fondo oscuro */
    --color-background: #282828; /* Azul oscuro/gris muy oscuro */
    --color-sidebar-bg: #212121; /* Sidebar también oscuro */
    --color-text-default: #FFFFFF; /* Texto blanco/claro */
    --color-text-muted: #94A3B8; /* Gris claro para texto secundario */
    --border-color: #334155; /* Borde oscuro */
    --color-primary-hover: #343a40; /* Teal más oscuro */
    --color-link-active-bg: var(--color-primary); /* Fondo del enlace activo */
    --color-link-active-text: #ffffff;
    --color-link-hover-bg: #343a40; /* Gris muy claro para hover */
    --color-icon-header: #94A3B8; /* Gris claro/azul pálido para los iconos del header */
    --bg-color-list-item: #343A40;
    --color-list-item: #E8E8E8;
    --border-color: #353535;
}

/* =================================== */
/* 2. Estructura General del Layout */
/* =================================== */
body {
    font-family: 'Montserrat', ui-sans-serif, system-ui, sans-serif;
    margin: 0;
    background-color: var(--color-background);
}

.app-layout {
    display: flex;
    min-height: 100vh;
}

/* =================================== */
/* 3. Estilos de la Barra Lateral (Sidebar) */
/* =================================== */

.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: 325px;
    height: 100%;
    background-color: var(--color-sidebar-bg);
    border-right: 1px solid var(--border-color);
    z-index: 40; /* Debe ser menor que el header (z-index: 50) */
}

.sidebar nav {
    margin:1rem;
}

/* Botones/Enlaces del Menú */
.sidebar-link {
    display: flex;
    align-items: center;
    /* width: 100%; */
    height: 48px; /* Altura de 12 (h-12) */
    padding: 0 16px; 
    border-radius: var(--radius-md);
    text-decoration: none;
    font-weight: 500;
    transition: all 0.15s ease-in-out;
    font-size: var(--text-sm);
    margin-bottom: 0.5em;
}

/* Estado por defecto (Inactivo) */
/* Estado por defecto (Inactivo) */
.sidebar-link-inactive {
    color: var(--color-text-muted); /* Gris 700 */
    /* Asegurar que el fondo sea transparente o el mismo que la sidebar */
    background-color: transparent; 
}
.sidebar-link-inactive:hover {
    background-color: var(--color-link-hover-bg); /* Gris claro */
    color: var(--color-text-default);
}

/* Estado Activo (Dashboard) */
.sidebar-link-active {
    background-color: var(--color-link-active-bg);
    color: var(--color-link-active-text);
}
.sidebar-link-active:hover {
    background-color: var(--color-primary-hover);
}

/* Íconos (SVG) */
.sidebar-link svg {
    margin-right: 12px;
    height: 20px;
    width: 20px;
}

/* --- Estilos del Grupo de Dropdown de la Sidebar --- */
.sidebar-dropdown-group {
    margin-bottom: 0.5rem;
    padding: 0;
}

/* Normalización de botones en la Sidebar */
.sidebar-dropdown-toggle {
    /* CRÍTICO: Eliminar el fondo gris/borde por defecto del <button> */
    background: none;
    border: none;
    cursor: pointer;
    /* Asegurar que el padding y color base se herede de .sidebar-link */
    color: var(--color-text-muted); 
    padding: 0 16px; /* Para que coincida con el a.sidebar-link */
    margin: 0; /* Eliminar posibles márgenes por defecto */
    text-align: left; /* Alinear el texto a la izquierda */
}

/* Ajustes para el botón toggle dentro del grupo */
.sidebar-dropdown-group .sidebar-dropdown-toggle {
    cursor: pointer;
    border: none;
    width: 100%;
    justify-content: space-between; /* Para empujar la flecha a la derecha */
}

/* Flecha de Toggle */
.sidebar-dropdown-group .dropdown-arrow {
    transition: transform 0.3s ease;
}

/* Rotar la flecha cuando el menú está abierto */
.sidebar-dropdown-group.open .dropdown-arrow {
    transform: rotate(180deg);
}

/* Contenedor de Sub-Enlaces */
.sidebar-dropdown-content {
    overflow: hidden; /* CRUCIAL para la animación de colapso */
    transition: max-height 0.3s ease-in-out;
    padding-left: 0.5rem; /* Pequeño indentado para sub-enlaces */
}

/* Estilo para los Sub-Enlaces */
.sidebar-dropdown-content .sub-link {
    font-size: var(--text-sm);
    padding-left: 1rem; /* Indentar más que el enlace padre */
    height: 40px; /* Un poco más pequeños que los principales */
}

/* Estilo para el estado activo del enlace padre cuando el sub-enlace está activo */
.sidebar-dropdown-group.open .sidebar-dropdown-toggle {
    background-color: var(--color-link-hover-bg); /* Resaltar ligeramente el padre activo */
    color: var(--color-text-default);
}

.sidebar-link > div {
    display: flex;
    align-items: center;
}

/* =================================== */
/* 4. Estilos del Área de Contenido */
/* =================================== */

.content { 
    position: fixed;
    width: calc(100% - 325px);
    box-sizing: border-box;
    top: 0;
    left: 325px;
}

main {
    padding: 0 1rem;
    overflow-y: scroll;
    height: calc(100vh - 5rem);
}

main::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

/* 2. El fondo de la pista del scrollbar (en modo claro es blanco, en oscuro es gris) */
main::-webkit-scrollbar-track {
    background-color: var(--color-background); /* Usa el fondo del tema actual */
}

/* 3. El pulgar (thumb) que arrastras: Usamos el color Primario (Teal) */
main::-webkit-scrollbar-thumb {
    background-color: var(--color-primary);
    border-radius: 10px; /* Redondear los bordes del pulgar */
    border: 1px solid var(--color-background); /* Un borde que coincide con el fondo para que el pulgar se vea más pequeño */
}

/* 4. Estilo de hover para el pulgar */
main::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-primary-hover);
}

main::-webkit-scrollbar {
    background-color: var(--color-primary);
}
/* =================================== */
/* 5. Estilos del Header Superior */
/* =================================== */

/* Header Fijo */
.main-header {
    background-color: var(--color-sidebar-bg); /* Blanco */
    border-bottom: 1px solid var(--border-color); /* Gris claro */
    padding: 1rem 1.5rem; /* 16px vertical, 24px horizontal */
    position: sticky;
    top: 0;
    z-index: 50;
    height: 4rem; /* Altura estándar basada en el padding */
    width: 100%;
    box-sizing: border-box;
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100%;
}

/* Branding (Logo) */
.branding {
    display: flex;
    align-items: center;
    gap: 1rem;
}
.app-title {
    font-size: 1.25rem; /* text-xl */
    color: var(--color-text-default); /* Gris oscuro */
    margin: 0;
}
.app-subtitle {
    font-size: var(--text-xs); /* text-sm */
    font-weight: 200;
    color: var(--color-text-muted); /* Gris medio */
    margin: 0;
}

/* User Actions y Notificaciones */
.user-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

button {
    font-family: 'Montserrat';
}

.notifications-button {
    position: relative;
    height: 32px; /* h-8 */
    width: 32px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: 0.375rem;
}

.notifications-button:hover {
    background-color: var(--color-link-hover-bg);
}

.notification-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    width: 12px;
    height: 12px;
    background-color: #fb923c; /* Orange 400 */
    border-radius: 9999px;
}

.notifications-button svg {
    /* Aplicamos la variable de color a los íconos (Bell y Theme Toggle) */
    color: var(--color-icon-header); 
    transition: color 0.3s;
}

/* Aplicamos el hover para que el ícono sea más visible al pasar el ratón */
.notifications-button:hover svg {
    color: var(--color-primary); /* Teal en modo claro */
}

/* El fondo del botón al hacer hover también debe usar la variable de hover */
.notifications-button:hover {
    background-color: var(--color-link-hover-bg);
}

/* User Profile */
.user-profile {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 8px;
    border-radius: 0.375rem;
    cursor: pointer;
}
.user-profile:hover {
    background-color: var(--color-link-hover-bg);
}

.avatar-fallback {
    display: flex;
    width: 32px;
    height: 32px;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    background-color: #ccfbf1; /* Teal 100 */
    color: var(--color-primary); /* Teal 700 */
    font-size: 0.875rem;
    font-weight: 500;
}
.user-name {
    font-size: 0.875rem;
    color: var(--color-text-default);
    margin: 0;
}
.user-role {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin: 0;
}

/* Contenedor principal de secciones */
.dashboard-grid {
    display: grid;
    gap: 20px;
    margin-bottom: 30px;
}

/* 6A. Métricas Clave (Tarjetas de Estadísticas) */
.key-stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* 6 columnas en el ejemplo */
    gap: 20px;
}
.stat-card {
    background-color: var(--color-sidebar-bg); /* Blanco */
    padding: 15px 20px;
    border-radius: var(--radius-md); /* Bordes redondeados */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05); /* Sombra sutil */
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.stat-card-title {
    font-size: 0.875rem; /* text-sm */
    color: var(--color-text-muted);
    margin: 0;
}
.stat-card-value {
    font-size: 1.5rem; /* Título grande */
    font-weight: 600;
    color: var(--color-text-default);
    margin-bottom: 5px;
}
.stat-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Los colores de fondo del icono varían en la imagen, usaremos el Teal primario por defecto */
    background-color: rgba(13, 148, 136, 0.1); /* Teal muy claro */
}
.stat-icon svg {
    color: var(--color-primary); /* Icono Teal */
}

/* 6B. Estructura de Secciones (Notificaciones y Acciones Rápidas) */
.section-one-col {
    display: grid;
    margin-top: 1rem;
    margin-bottom: 1rem;
}

.section-two-cols {
    display: grid;
    grid-template-columns: 2fr 1fr; /* Izquierda (Notificaciones) más ancha que Derecha (Acciones) */
    gap: 20px;
    margin-top: 1rem;
    margin-bottom: 1rem;
}

.section-four-cols {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 20px;
    margin-top: 1rem;
    margin-bottom: 1rem;
}

/* Tarjeta de Contenido General */
.content-card {
    background-color: var(--color-sidebar-bg);
    border-radius: var(--radius-md);
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.content-footer {
    text-align: center;
    font-size: var(--text-xs);
    color: var(--color-text-muted);
}

.content-card h3 {
    font-size: 1.125rem;
    font-weight: 600;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
    margin-bottom: 15px;
    color: var(--color-text-default);
}

.welcome-banner {
    /* 1. Degradado y Color de Fondo */
    /* Replica el efecto de la imagen: de cian/azul claro a azul/morado */
    background: linear-gradient(90deg, teal 0%, #3075A0 50%, #6d6aff 100%); 
    margin-bottom: 2rem; /* Separación del resto del contenido */
    border-radius: 12px; /* Un valor fijo para el redondeo (aproximado a la foto) */
    overflow: hidden; /* Asegura que no haya desbordamiento */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
    padding-left: 1em;
    padding-right: 1em;
    margin-top: 1rem;
}

.welcome-banner h2 {
    /* Título principal */
    font-size: 1.8rem;
    font-weight: 600; /* Semi-bold */
    color: white; /* Texto blanco de alto contraste */
    margin-top: 0;
    margin-bottom: 5px;
    padding-top: 1rem;
}

.welcome-banner p {
    /* Subtítulo */
    font-size: 1rem;
    color: oklch(.953 .051 180.801);
    margin-bottom: 0;
    padding-bottom: 1rem;
}

.main-logo-sidebar {
    width: 180px;
}

.main-logo-footer {
    width: 80px;  /* Ajusta al tamaño del icono simulado */
    object-fit: contain; /* Asegura que la imagen no se distorsione */
    /* Si tu logo tiene fondo, puedes añadir border-radius: 0.5rem; para seguir el estilo */
}

/* =================================================================== */
/* 8. ESTILOS DE TABLA DE DATOS Y BÚSQUEDA (Branch Network Look)       */
/* =================================================================== */

/* Contenedor del Título y Búsqueda */
.table-header-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
}

/* Formulario y Campo de Búsqueda */
.search-form {
    display: flex;
    align-items: center;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    overflow: hidden;
    background-color: var(--color-link-hover-bg); /* Fondo ligeramente gris */
    width: 350px;
    height: 40px;
}
.search-input {
    flex-grow: 1;
    padding: 0 10px;
    border: none;
    outline: none;
    background: transparent;
    font-size: var(--text-sm);
    color: var(--color-text-default);
}
.search-button {
    background-color: transparent;
    border: none;
    padding: 0 10px;
    cursor: pointer;
}
.search-button svg {
    color: var(--color-text-muted);
}
.search-form:focus-within {
    border-color: var(--color-primary); /* Resalta el borde al enfocar */
}


/* Estilos de la Tabla */
.data-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--text-sm);
}

.data-table thead th {
    text-align: left;
    padding: 12px 15px;
    color: var(--color-text-muted);
    font-weight: var(--font-weight-medium);
    border-bottom: 2px solid var(--border-color);
    text-transform: uppercase;
}

.data-table tbody td {
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
    color: var(--color-text-default);
    vertical-align: middle;
}

.data-table tbody tr:hover {
    background-color: var(--color-link-hover-bg); /* Ligeramente más claro al pasar el ratón */
}

/* Estilos específicos de la tabla */
.text-right {
    text-align: right !important;
}
.text-muted {
    color: var(--color-text-muted);
    font-size: var(--text-xs);
}
.text-default {
    color: var(--color-text-default);
}

/* Botones de Acción de la Fila (Iconos) */
.action-buttons-cell {
    display: flex;
    justify-content: flex-end; /* Alinear a la derecha */
    align-items: center;
    gap: 8px;
}
.icon-btn {
    background: none;
    border: none;
    padding: 4px;
    cursor: pointer;
    color: var(--color-text-muted);
    transition: color 0.2s;
    border-radius: var(--radius-md);
}
.icon-btn:hover {
    color: var(--color-primary); /* Teal al pasar el ratón */
    background-color: var(--color-link-hover-bg);
}
.delete-btn {
    color: #dc3545; /* Rojo para eliminar */
}
.inline-delete-form {
    display: inline;
}

/* Paginación */
.pagination-footer {
    display: flex;
    justify-content: center;
    padding-top: 20px;
}

/* =================================================================== */
/* 10. BOTONES DE ACCIÓN (btn-primary, btn-danger, etc.)               */
/* =================================================================== */

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    
    /* Forma: Alargado, padding vertical reducido (8px) */
    padding: 8px 18px; 
    
    border: 1px solid transparent; /* Usamos borde transparente por defecto */
    border-radius: var(--radius-md); 
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}

/* --- BOTONES --- */
.btn-primary {
    background-color: var(--bg-color-btn-primary); 
    color: var(--color-btn-primary); 
    border: var(--border-color-btn-primary);
}

.btn-primary:hover {
    background-color: var(--bg-color-btn-primary-hover); 
}

.btn-secondary {
   
    background-color: var(--bg-color-btn-secondary); 
    color: var(--color-btn-secondary); 
}

.btn-secondary:hover {
   
    background-color: var(--bg-color-btn-secondary-hover); 
}

.btn-success {
   
    background-color: var(--bg-color-btn-success); 
    color: var(--color-btn-success); 
}

.btn-success:hover {
   
    background-color: var(--bg-color-btn-success-hover); 
}

.btn-warning {
    background-color: var(--bg-color-btn-warning); 
    color: var(--color-btn-warning); 
}

.btn-warning:hover {
   
    background-color: var(--bg-color-btn-warning-hover);
}

.btn-danger {
    background-color: var(--bg-color-btn-danger); 
    color: var(--color-btn-danger);
}

.btn-danger:hover {
    background-color: var(--bg-color-btn-danger-hover); 
}

/* =================================================================== */
/* 11. MENÚ DESPLEGABLE DE USUARIO (User Dropdown)                     */
/* =================================================================== */

.user-dropdown-container {
    position: relative; /* Contenedor principal para posicionar el menú */
}

/* El menú flotante */
.user-dropdown-menu {
    position: absolute;
    top: calc(100% + 10px); /* 10px debajo del botón trigger */
    right: 0;
    z-index: 100;
    
    /* Estética de tarjeta flotante */
    background-color: var(--color-sidebar-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    min-width: 200px;
    padding: 8px 0;
    
    /* Oculto por defecto */
    opacity: 0;
    visibility: hidden;
    transform: translateY(-5px); /* Pequeño efecto al aparecer */
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s;
}

/* Estado Activo */
.user-dropdown-menu.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* Items del menú */
.dropdown-item {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 10px 15px;
    text-align: left;
    background: none;
    border: none;
    cursor: pointer;
    text-decoration: none;
    color: var(--color-text-default);
    font-size: var(--text-sm);
    transition: background-color 0.15s;
}

.dropdown-item:hover {
    background-color: var(--color-link-hover-bg);
    color: var(--color-text-default);
}

.dropdown-item i {
    margin-right: 10px;
    font-size: 1.1em;
}

.dropdown-divider {
    height: 1px;
    background-color: var(--border-color);
    margin: 5px 0;
}

/* Asegurar que el botón de cerrar sesión se vea como un item de menú */
.logout-btn {
    /* (Ya tiene las propiedades del .dropdown-item) */
    color: var(--color-danger); /* Resaltar la acción de cerrar sesión */
}
.logout-btn:hover {
    background-color: #fde8e8; /* Fondo rojo muy claro al hacer hover */
    color: var(--color-danger);
}

/* =================================================================== */
/* 11. OFF CANVAS (Panel Lateral Flotante) - CORREGIDO                 */
/* =================================================================== */

/* Fondo de la superposición (overlay) */
.offcanvas-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1000; 
    
    /* CONTROL DE VISIBILIDAD PARA LA TRANSICIÓN */
    opacity: 0;
    visibility: hidden; /* Oculto inicialmente, pero permanece en el DOM */
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

/* Estado ACTIVO del overlay */
.offcanvas-overlay.active {
    opacity: 1;
    visibility: visible; /* CRUCIAL: Se hace visible */
}

/* El panel lateral flotante */
.offcanvas-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    max-width: 350px; /* Ancho solicitado */
    height: 100%;
    background-color: var(--color-background); 
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
    
    /* Posición inicial: Fuera de la pantalla */
    transform: translateX(100%); 
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

/* Estado activo del panel (se desliza hacia adentro) */
.offcanvas-overlay.active .offcanvas-panel {
    transform: translateX(0); /* Desplazamiento a posición 0 */
}

.close-offcanvas-btn {
    /* Eliminamos Fondo y Borde */
    background: none;
    border: none;
    
    /* Ajustes del botón contenedor */
    cursor: pointer;
    padding: 5px; /* Pequeño padding para área de clic */
    border-radius: var(--radius-md); 
    transition: background-color 0.2s;
}

/* Estilos del icono SVG (el Aspa) */
.close-offcanvas-btn svg {
    /* Color: Gris Claro (Usamos el color muted de tu paleta) */
    color: var(--color-text-muted); 
    
    /* Grosor: Hacemos el aspa más fina (stroke-width del SVG) */
    stroke-width: 1.5; /* Reducimos el grosor de 2 a 1.5 para que se vea más fino */
    
    /* Tamaño */
    width: 20px; 
    height: 20px;
    
    /* El SVG es un elemento de bloque */
    display: block; 
}

/* Estado al pasar el ratón (Hover) */
.close-offcanvas-btn:hover {
    /* Usamos el color de acento para el fondo */
    background-color: var(--color-link-hover-bg); 
}

.close-offcanvas-btn:hover svg {
    /* Cambiamos el color a Teal al pasar el ratón */
    color: var(--color-primary); 
}

.offcanvas-title,
.card-header {
    display:flex;
    align-items: center;
    justify-content: space-between;
}

/* =================================================================== */
/* 12. ESTILOS DE FORMULARIO (Global: .form-group, .form-input)        */
/* =================================================================== */

.form-group {
    padding-bottom: 0.5rem; /* Pequeño padding para manejar posibles errores */
}

/* Etiquetas (Labels) */
.form-group label {
    display: block; /* Asegura que la etiqueta esté en su propia línea */
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    margin-bottom: 0.4rem;
    color: var(--color-text-default);
    font-weight: bold;
}

/* Campos de Entrada (Inputs, Textareas, Selects) */
.form-input {
    width: 100%;
    padding: 10px 12px; /* Padding vertical medio, horizontal cómodo */
    border: 1px solid var(--border-color); /* Borde sutil */
    border-radius: var(--radius-md); 
    box-sizing: border-box; /* Crucial para que el padding no desborde el 100% de ancho */
    background-color: var(--color-sidebar-bg); /* Blanco en claro, oscuro en dark mode */
    font-size: var(--text-sm);
    color: var(--color-text-default);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    font-family: 'Montserrat';
}

/* Enfocar el campo (Focus) */
.form-input:focus {
    border-color: var(--color-primary); /* Borde Teal al enfocar */
    outline: none; /* Eliminar el contorno feo del navegador */
    box-shadow: 0 0 0 2px rgba(13, 148, 136, 0.2); /* Sombra sutil de Teal */
}

/* Estilos para el campo deshabilitado (como el Email en el perfil) */
.form-input:disabled, .form-input[readonly] {
    background-color: var(--color-link-hover-bg); /* Fondo gris suave */
    color: var(--color-text-muted);
    cursor: not-allowed;
}

/* Estilo para los mensajes de error de Laravel */
.text-danger {
    color: #dc3545; /* Rojo de peligro */
    font-size: var(--text-xs);
    display: block;
    margin-top: 5px;
}

/* Estilos de los botones del formulario */
.form-actions {
    margin-top: 2rem;
    display: flex;
    gap: 10px;
}

/* =================================================================== */
/* 13. ESTILOS DE PAGINACIÓN (Basado en el diseño minimalista)         */
/* =================================================================== */

.pagination-footer {
    display: flex;
    justify-content: center; /* Alineamos la paginación a la derecha de la tabla */
    padding: 20px 0 10px;
    border-top: 1px solid var(--border-color); /* Separador sutil */
    margin-top: 10px;
}

.pagination {
    display: flex;
    list-style: none; /* Eliminar viñetas de lista */
    padding: 0;
    margin: 0;
    align-items: center;
}

.page-item {
    margin: 0 4px;
}

.page-link {
    display: block;
    padding: 6px 12px;
    border-radius: var(--radius-md);
    text-decoration: none;
    font-size: var(--text-sm);
    transition: background-color 0.2s, color 0.2s;
    border: 1px solid var(--border-color);
    color: var(--color-text-default);
    background-color: var(--color-sidebar-bg);
}

/* Estado al pasar el ratón o deshabilitado */
.page-link:hover:not(.active):not(.disabled) {
    background-color: var(--color-link-hover-bg);
    border-color: var(--color-link-hover-bg);
}

/* Estado Deshabilitado (Flechas de navegación) */
.page-item.disabled .page-link {
    color: var(--color-text-muted);
    cursor: not-allowed;
    background-color: var(--color-link-hover-bg);
    border-color: var(--border-color);
}

/* Estado ACTIVO (Página actual) */
.page-item.active .page-link {
    /* Usamos el color de acento principal (Teal) */
    background-color: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
    font-weight: var(--font-weight-medium);
}

/* =================================================================== */
/* 14. DISEÑO RESPONSIVO Y MOBILE FIRST                                */
/* =================================================================== */

/* --- A. ESCRITORIO Y TABLET GRANDE (>= 1144px) --- */
/* (Los estilos por defecto ya sirven para esto) */


/* --- B. TABLETA Y MÓVIL GRANDE (<= 1144px) --- */

@media (max-width: 1144px) {
    
    /* 1. Ocultar la Sidebar por defecto */
    .sidebar {
        width: 325px;
        transform: translateX(-100%); /* Deslizar fuera de la vista */
        transition: transform 0.3s ease-in-out;
        z-index: 90; /* Mayor que el contenido, menor que el header/overlay */
    }

    /* 2. El contenido ocupa el 100% */
    .content {
        width: 100%;
        left: 0px;
    }
    
    /* 3. Mostrar la Sidebar (solo cuando se active con JS) */
    .app-layout.sidebar-open .sidebar {
        transform: translateX(0);
    }
    
    /* 4. Overlay para el modo móvil (para oscurecer el fondo) */
    .app-layout.sidebar-open .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 80;
    }
    
    /* 5. Header: Ajuste para el botón de menú */
    .main-header {
        padding: 0.5rem 1rem; /* Más compacto */
    }

    /* 6. Header: Ocultar el subtítulo del branding */
    .branding > div > .app-title {
        font-size: var(--text-sm);
    }
    .branding > div > .app-subtitle {
        font-size: var(--text-xs);
    }
    
    /* 7. Footer: Debe ser relativo o ajustarse a la vista */
    .content-footer {
        position: relative; /* Ya no está fijo en la parte inferior de la ventana */
        left: 0;
        padding-bottom: 15px;
    }
    
    /* 8. Censo: Búsqueda y Botones (apilamiento) */
    .table-header-controls {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    .search-form {
        width: 100%;
    }

    .menu-mobile-visible {
        transform: unset;
    }
}


/* --- C. MÓVIL PEQUEÑO (<= 768px) --- */
@media (max-width: 768px) {
    /* 1. Header: Compactar las acciones de usuario */
    .user-actions {
        gap: 0.5rem;
    }

    /* 2. Stats Cards: Apilamiento más denso */
    .key-stats-container {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 10px;
    }
    
    /* 3. Secciones: Poner las dos columnas en una sola pila */
    .section-two-cols {
        grid-template-columns: 1fr;
    }
    
    /* 4. Welcome Banner: Reducir padding */
    .welcome-banner {
        padding: 1rem;
        margin-top: 1rem;
    }
    .welcome-banner h2 {
        font-size: 1.5rem;
    }
    .user-profile > .text-left {
        display:none;
    }

    .branding > div > .app-title {
        font-size: var(--text-sm);
    }


    .branding > div > .app-subtitle {
        display: none;
    }
}

/* Estilos para el botón de menú móvil */
.mobile-toggle-btn {
    display: none; /* Oculto por defecto en escritorio */
    background: none;
    border: none;
    cursor: pointer;
    color: var(--color-text-default);
    padding: 8px;
    border-radius: var(--radius-md);
    transition: background-color 0.2s;
}
.mobile-toggle-btn:hover {
    background-color: var(--color-link-hover-bg);
}

@media (max-width: 1144px) {
    /* Hacer visible el botón en dispositivos pequeños */
    .mobile-toggle-btn {
        display: block; 
    }
}

.menu-header {
    margin-bottom: 2rem;
    padding: 2rem;;
    border-bottom: 1px solid var(--border-color);
}

.header-title {
    text-align: center;
    font-weight: bold;
    color: var(--color-text-default);
    font-size: var(--text-md);
    margin-bottom: 0.5em;
}

.header-subtitle {
    text-align: center;
    font-weight: 300;
    color: var(--color-text-muted);
    font-size: var(--text-xs);
}

.escudo-header-container {
    text-align: center;
    margin-bottom: 1em;
}

.escudo-header {
    width: 120px;
}

@media (max-width: 768px) {
    
    /* 1. Ocultar la Cabecera de la Tabla (TH) */
    .data-table thead {
        /* Desaparece la cabecera horizontal en móvil */
        display: none; 
    }
    
    /* 2. Convertir el Cuerpo de la Tabla y las Filas en Bloques */
    .data-table, 
    .data-table tbody, 
    .data-table tr {
        display: block;
        width: 100%;
    }

    /* 3. Estilo de la Fila como Tarjeta */
    .data-table tr {
        margin-bottom: 15px; /* Espacio entre tarjetas/filas */
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    /* 4. Convertir las Celdas (TD) en Bloques Apilados */
    .data-table td {
        display: block;
        text-align: right; /* Alineamos el valor del dato a la derecha */
        padding: 8px 10px;
        border-bottom: 1px dotted var(--border-color); /* Separador entre campos */
        
        /* Asegurar que las celdas se vean bien en tema oscuro */
        background-color: var(--color-sidebar-bg); 
    }
    
    .data-table td:last-child {
        border-bottom: none; /* La última celda no lleva separador */
        padding-bottom: 0;
    }
    
    /* 5. Crear la Etiqueta (TH) con CSS */
    .data-table td::before {
        content: attr(data-label); /* Usa el atributo data-label del HTML */
        float: left; /* Etiqueta a la izquierda */
        font-weight: var(--font-weight-bold);
        color: var(--color-text-default);
        text-transform: uppercase;
        font-size: var(--text-xs);
        padding-top: 2px;
    }
    
    /* 6. Estilo específico para las Acciones */
    .action-buttons-cell {
        justify-content: flex-start; /* Movemos los botones al inicio de la tarjeta */
        padding-top: 15px;
        padding-bottom: 5px;
    }
}

/* Estilos para los encabezados de tabla ordenables */
.sortable-header {
    text-decoration: none; /* Eliminar el subrayado de los enlaces en el TH */
    color: var(--color-text-muted); /* Color similar al texto de cabecera normal */
    display: block;
}

.sortable-header:hover {
    color: var(--color-text-default); /* Oscurecer al pasar el ratón */
}

.js-clickable-row {
    cursor:pointer;
}

.content-card > h3 {
    margin-top: 0;
}

.content-card > p {
    font-size: var(--text-sm);
    color: var(--color-text-default);
}

.card-header > h1 {
    font-size: var(--text-xl);
    color: var(--color-text-default);
}

.history-item {
    font-size: var(--text-sm);
    padding: 5px;
    background-color: var(--bg-color-list-item);
    color: var(--color-list-item);
    margin-bottom: 5px;
    border-radius: var(--radius-md);
}

.avatar-display-container {
    display: flex;
    align-items: center;
    justify-content: space-around;
    background-color: var(--color-sidebar-bg);
    padding: 1rem;
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
}

.avatar-large {
    background-color: var(--color-sidebar-bg);
    border-radius: 100%;
    width: 125px;
    cursor: pointer;
}

.avatar-small {
    background-color: var(--color-sidebar-bg);
    border-radius: 100%;
    width: 25px;
}

.avatar-initials-fallback {
    border: 1px solid teal;
    background-color: #0080801c;
    padding: 0.3rem;
    color: teal;
    border-radius: 15px;
}

.alert {
    padding: 1rem;
    font-size: var(--text-md);
    margin-top: 1rem;
    border-radius: var(--radius-md);
}

.alert-success {
    background-color: var(--bg-color-btn-success);
    color: var(--color-btn-success);
}

.alert-success {
    background-color: var(--bg-color-btn-success);
    color: var(--color-btn-success);
}

.alert-warning {
    background-color: var(--bg-color-btn-warning);
    color: var(--color-btn-warning);
}

.alert-danger {
    background-color: var(--bg-color-btn-danger);
    color: var(--color-btn-danger);
}

/* Estilo del contenedor del botón de exportación */
.table-footer-controls {
    display: flex;
    justify-content: flex-end; /* Alineado a la derecha */
    padding: 10px 0;
    margin-top: 10px;
}

/* Estilo específico para el botón de exportación */
.export-btn {
    background-color: #28A745; /* Verde Excel */
    color: white;
}
.export-btn:hover {
    background-color: #1b712f; /* Verde más oscuro */
}

/* Estilo para los grupos de Radio/Checkbox */
.checkbox-group label {
    display: block;
    margin-bottom: 8px;
    font-size: var(--text-sm);
    color: var(--color-text-default);
}

/* Contenedor y Checkmark (CSS Básico, puedes ajustarlo si ya tienes tu estilo) */
.checkbox-container {
    display: block;
    position: relative;
    padding-left: 25px;
    cursor: pointer;
    user-select: none;
    line-height: 1.2;
}

.checkbox-container input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 18px;
    width: 18px;
    background-color: var(--color-link-hover-bg);
    border-radius: 50%; /* Para Radio buttons */
    border: 1px solid var(--border-color);
}

.checkbox-container:hover input ~ .checkmark {
    background-color: var(--border-color);
}

.checkbox-container input:checked ~ .checkmark {
    background-color: var(--color-primary);
}

.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}

.checkbox-container input:checked ~ .checkmark:after {
    display: block;
}

.checkbox-container .checkmark:after {
    left: 6px;
    top: 6px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: white;
}